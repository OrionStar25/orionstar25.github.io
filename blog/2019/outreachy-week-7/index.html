<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Season @ Fedora Modularity | Niharika Shrivastava</title> <meta name="author" content="Niharika Shrivastava"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website, niharika-shrivastava"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%98%AF%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://orionstar25.github.io/blog/2019/outreachy-week-7/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Niharika </span>Shrivastava</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">opensource</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/repositories/">github</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/presentations/">presentations</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/mentoring/">mentoring</a> </div> </li> <li class="nav-item "> <a class="nav-link" href="/checklist/">my dynamic checklist</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Season @ Fedora Modularity</h1> <p class="post-meta">July 23, 2019</p> <p class="post-tags"> <a href="/blog/2019"> <i class="fa-solid fa-calendar fa-sm"></i> 2019 </a>   ·   <a href="/blog/tag/open-source"> <i class="fa-solid fa-hashtag fa-sm"></i> open source</a>   <a href="/blog/tag/outreachy"> <i class="fa-solid fa-hashtag fa-sm"></i> outreachy</a>   <a href="/blog/tag/technology"> <i class="fa-solid fa-hashtag fa-sm"></i> technology</a>   <a href="/blog/tag/gsoc"> <i class="fa-solid fa-hashtag fa-sm"></i> gsoc</a>   <a href="/blog/tag/research"> <i class="fa-solid fa-hashtag fa-sm"></i> research</a>   <a href="/blog/tag/python"> <i class="fa-solid fa-hashtag fa-sm"></i> python</a>   <a href="/blog/tag/jekyll"> <i class="fa-solid fa-hashtag fa-sm"></i> jekyll</a>   <a href="/blog/tag/fedora"> <i class="fa-solid fa-hashtag fa-sm"></i> fedora</a>   <a href="/blog/tag/modularity"> <i class="fa-solid fa-hashtag fa-sm"></i> modularity</a>     ·   <a href="/blog/category/open-source"> <i class="fa-solid fa-tag fa-sm"></i> open-source</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>Hello all! It’s <strong>Open Source Summer</strong> coding season at <strong>The Fedora Project</strong>. Translations are pouring heavily at <strong>Modularity</strong>, a strong gust of <strong>Happiness Packets</strong> are incoming in from the East, <strong>Fedora pipelines</strong> are being modified to handle the frequent Fedora releases.</p> <p>I’m VERY excited to be writing this blog post. I have essentially only a month left for my Outreachy internsip with The Fedora Project to end. Surprisingly, this realization is of a bitter-sweet one. The amount of skills I’ve picked up during my 2 months of Outreachy are simply priceless. I not only tried to code within deadlines, but also learnt new concepts and technology, implemeted it to reflect into my code, networked with different people as part of fedora community bonding, made MAJOR mistakes, tried to redeem myself from them (still working on that 🙈), and I’m DEFINITELY not done just yet!</p> <h2 id="my-optimististic-timelines-">My Optimististic timelines 😂</h2> <p>Outreachy mentors and interns start the internship with a specific set of project goals. These timelines are ususally a very optimistic view of what could happen if everything goes exactly as planned. IT OFTEN DOESN’T, but people still make optimistic plans. This concept is called as <a href="https://en.wikipedia.org/wiki/Planning_fallacy" rel="external nofollow noopener" target="_blank">Planning Fallacy</a>. Projects always feel easy to work on initially. But delays to projects happen. Maybe your project turned out to be more complicated than you or your mentor anticipated. Maybe you needed to learn some concepts before you could tackle project tasks. Maybe the community documention wasn’t up-to-date or was wrong.</p> <p>Keeping all this in mind, this was my initial timeline:</p> <blockquote> <p><strong>May 20, 2019 - May 25, 2019</strong> - Shall participate via community bonding. Will continuously be in touch with the mentor to break down the internship tasks into steps for the coming days. Will go through the code base thoroughly to look for vulnerabilities, potential bugs, and redundancies.</p> </blockquote> <blockquote> <p><strong>May 26, 2019 - June 10, 2019</strong> - Implement any test that exists only in Python, in C, to ensure that they are getting properly tested by the static analysis and memory-leak checkers (valgrind). This would essentially involve copying already written python tests to C.</p> </blockquote> <blockquote> <p><strong>June 11, 2019 - July 10, 2019</strong> - Write code for a set of new tests which will be provided by the mentor.</p> </blockquote> <blockquote> <p><strong>July 11, 2019 - Aug 11, 2019</strong> - Scan the library for any leftover tests, or vulnerabilities. Write exhaustive unit tests for the leftover code blocks and extend some already written tests (if necessary). Try to make the tests modular by breaking them into smaller tests for maintainability.</p> </blockquote> <blockquote> <p><strong>Aug. 12, 2019 - Aug. 20, 2019</strong> - Update documentation for all the changes made during the internship.</p> </blockquote> <p>And then my project changed completely. This time, my mentor made my new timeline:</p> <blockquote> <p><strong>Phase 1</strong>: Extract all translatable strings from the modules that have been built for each Fedora release and submit them to the translation tool, Zanata, for the translators to work on.</p> </blockquote> <blockquote> <p><strong>Phase 2</strong>: Retrieve the finished translations and use the libmodulemd API to turn them into modulemd-translations documents.</p> </blockquote> <blockquote> <p><strong>Stretch Goal</strong>: Include the code from Phase 2 into Fedora’s repo creation automation so that it gets updated automatically every day.</p> </blockquote> <p><img src="../assets/img/lifecycle_translation.png" alt="Translation Lifecycle"></p> <p>I must say this timeline seemed very relaxed and exciting to me. This project felt like I was a consumer AND a developer for libmodulemd both at the same time.</p> <h2 id="project-flow">Project flow</h2> <p>Now that my project was broken down into tasks, I had to understand each of these problems thoroughly and break them into smaller tasks. That way, I could create a workflow and convert it into modular code. For any task I undertook, I was expected to:</p> <ol> <li>Discuss the goal of that task and do theoritical study on the required concepts.</li> <li>Write a requirements document stating: <ol> <li>All the constraints.</li> <li>Expected input/output.</li> <li>Dependencies needed(if any).</li> <li>Activity flowchart described into words</li> </ol> </li> <li>Write unit tests first for the task validating our expectation of the workflow. This is called <a href="https://www.guru99.com/test-driven-development.html" rel="external nofollow noopener" target="_blank">Test-Driven Development</a>.</li> <li>Finally write code and fix any intermediary bugs or add necessary features on the way.</li> <li>Ask doubts throughout, if stuck.</li> </ol> <p>Here is an extract of a Software Requirement Specification (SRS) document for my first task. You can check out the whole document <a href="https://docs.google.com/document/d/1FANPQE1qwpIjgYGIDGxNH5pOcQ4VMq9O0Xy9Ie0t_ZM/edit?ts=5ce6e6f5" rel="external nofollow noopener" target="_blank">here</a>.</p> <p><img src="../assets/img/SRS.png" alt="SRS Document"></p> <h2 id="task-1">Task 1</h2> <blockquote> <p>Extract all translatable strings from the modules that have been built for each Fedora release and submit them to the translation tool, Zanata, for the translators to work on.</p> </blockquote> <p><img src="../assets/img/phase1.png" alt="Phase 1"></p> <h3 id="extraction">Extraction</h3> <ol> <li>Fedora modular metadata is divided into modules which are stored as <code class="language-plaintext highlighter-rouge">YAML</code> files.</li> <li>Every <code class="language-plaintext highlighter-rouge">YAML</code> file is loaded into a <code class="language-plaintext highlighter-rouge">ModulemdIndex</code> object.</li> <li>Each <code class="language-plaintext highlighter-rouge">ModulemdIndex</code> object contains <code class="language-plaintext highlighter-rouge">ModulemdModule</code> objects.</li> <li>Each <code class="language-plaintext highlighter-rouge">ModulemdModule</code> object contains <code class="language-plaintext highlighter-rouge">ModulemdModuleStream</code> objects.</li> <li>Each <code class="language-plaintext highlighter-rouge">ModulemdModuleStream</code> (identified by their <a href="https://orionstar25.github.io/outreachy-week-2/">NSVCA</a>) object contains 3 translatable strings: <ol> <li>Summary</li> <li>Description</li> <li>Profile description (There may be zero or more profiles. Each profile may have a description and an arbitrary profile name.)</li> </ol> </li> </ol> <p>We stored all the strings of a <code class="language-plaintext highlighter-rouge">module:stream</code> pair that were only of the <strong>highest</strong> version. It is acceptable to assume that if there are multiple matching <code class="language-plaintext highlighter-rouge">streams</code> of the same <code class="language-plaintext highlighter-rouge">module</code>, <code class="language-plaintext highlighter-rouge">stream</code> and <code class="language-plaintext highlighter-rouge">version</code> but different <code class="language-plaintext highlighter-rouge">context</code> and/or <code class="language-plaintext highlighter-rouge">architecture</code> that you do not need to care about <code class="language-plaintext highlighter-rouge">context</code> and <code class="language-plaintext highlighter-rouge">architecture</code>. The module build system ensures that all <code class="language-plaintext highlighter-rouge">context/arches</code> share the same summary, description and profiles across the <code class="language-plaintext highlighter-rouge">version</code>.</p> <h3 id="submit-to-translation-tool">Submit to Translation tool</h3> <p><a href="https://fedora.zanata.org/?dswid=-2287" rel="external nofollow noopener" target="_blank">Zanata</a> is a translation tool that Fedora relies on right now for its localization needs. It accepts <a href="http://babel.pocoo.org/en/latest/api/messages/catalog.html" rel="external nofollow noopener" target="_blank">Babel Catalogs</a> (<code class="language-plaintext highlighter-rouge">gettext .pot</code> files) containing unique strings in one language as keys along with their locations of occurrences in the file. All these strings need to be unique in the catalog. This is important because <code class="language-plaintext highlighter-rouge">gettext .pot</code> files cannot handle having the same source string appear more than once. These catalogs are further processed into <code class="language-plaintext highlighter-rouge">.po</code> (portable object) files and forwarded for translation. Locations are of the type:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">module_name</span><span class="p">;</span><span class="n">stream_name</span><span class="p">;</span><span class="n">string_type</span>
</code></pre></div></div> <p>To put this in terms of code, there is a <code class="language-plaintext highlighter-rouge">ModulemdIndex</code> object as input, and we return a <code class="language-plaintext highlighter-rouge">Babel Catalog</code> as the output.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">def</span> <span class="nf">get_translation_catalog_from_index</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">project_name</span><span class="p">):</span>
	<span class="bp">...</span>
	<span class="k">return</span> <span class="n">catalog</span>
</code></pre></div></div> <p>Next, to extract the translatable strings (or just strings, for brevity):</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="c1"># Get all Modulemd.Module object names
</span>    <span class="n">module_names</span> <span class="o">=</span> <span class="n">index</span><span class="p">.</span><span class="nf">get_module_names</span><span class="p">()</span>

    <span class="c1"># Create a list containing highest version streams of a module
</span>    <span class="n">final_streams</span> <span class="o">=</span> <span class="nf">list</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">module_name</span> <span class="ow">in</span> <span class="n">module_names</span><span class="p">:</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">index</span><span class="p">.</span><span class="nf">get_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
        <span class="n">stream_names</span> <span class="o">=</span> <span class="n">module</span><span class="p">.</span><span class="nf">get_stream_names</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">stream_name</span> <span class="ow">in</span> <span class="n">stream_names</span><span class="p">:</span>
            <span class="c1"># The first item returned is guaranteed to be the highest version
</span>            <span class="c1"># of that stream in that module.
</span>            <span class="n">stream</span> <span class="o">=</span> <span class="n">module</span><span class="p">.</span><span class="nf">search_streams</span><span class="p">(</span><span class="n">stream_name</span><span class="p">,</span> <span class="mi">0</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">final_streams</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>

    <span class="c1"># A dictionary to store:
</span>    <span class="c1"># key: all translatable strings
</span>    <span class="c1"># value: their respective locations
</span>    <span class="n">translation_dict</span> <span class="o">=</span> <span class="nf">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">stream</span> <span class="ow">in</span> <span class="n">final_streams</span><span class="p">:</span>
        <span class="c1"># Process description
</span>        <span class="n">description</span> <span class="o">=</span> <span class="n">stream</span><span class="p">.</span><span class="nf">get_description</span><span class="p">(</span><span class="sh">"</span><span class="s">C</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">location</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">{};{};description</span><span class="sh">"</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span>
            <span class="n">stream</span><span class="p">.</span><span class="n">props</span><span class="p">.</span><span class="n">module_name</span><span class="p">,</span> <span class="n">stream</span><span class="p">.</span><span class="n">props</span><span class="p">.</span><span class="n">stream_name</span><span class="p">)</span>
        <span class="n">translation_dict</span><span class="p">[</span><span class="n">description</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">location</span><span class="p">)</span>

        <span class="c1"># Process summary
</span>        <span class="n">summary</span> <span class="o">=</span> <span class="n">stream</span><span class="p">.</span><span class="nf">get_summary</span><span class="p">(</span><span class="sh">"</span><span class="s">C</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">location</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">{};{};summary</span><span class="sh">"</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span>
            <span class="n">stream</span><span class="p">.</span><span class="n">props</span><span class="p">.</span><span class="n">module_name</span><span class="p">,</span> <span class="n">stream</span><span class="p">.</span><span class="n">props</span><span class="p">.</span><span class="n">stream_name</span><span class="p">)</span>
        <span class="n">translation_dict</span><span class="p">[</span><span class="n">summary</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">location</span><span class="p">)</span>

        <span class="c1"># Process profile descriptions(sometimes NULL)
</span>        <span class="n">profile_names</span> <span class="o">=</span> <span class="n">stream</span><span class="p">.</span><span class="nf">get_profile_names</span><span class="p">()</span>
        <span class="nf">if</span><span class="p">(</span><span class="n">profile_names</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">pro_name</span> <span class="ow">in</span> <span class="n">profile_names</span><span class="p">:</span>
                <span class="n">profile</span> <span class="o">=</span> <span class="n">stream</span><span class="p">.</span><span class="nf">get_profile</span><span class="p">(</span><span class="n">pro_name</span><span class="p">)</span>

                <span class="n">profile_desc</span> <span class="o">=</span> <span class="n">profile</span><span class="p">.</span><span class="nf">get_description</span><span class="p">(</span><span class="sh">"</span><span class="s">C</span><span class="sh">"</span><span class="p">)</span>
                <span class="n">location</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">{};{};profile;{}</span><span class="sh">"</span><span class="p">).</span><span class="nf">format</span><span class="p">(</span>
                    <span class="n">stream</span><span class="p">.</span><span class="n">props</span><span class="p">.</span><span class="n">module_name</span><span class="p">,</span> <span class="n">stream</span><span class="p">.</span><span class="n">props</span><span class="p">.</span><span class="n">stream_name</span><span class="p">,</span> <span class="n">pro_name</span><span class="p">)</span>
                <span class="n">translation_dict</span><span class="p">[</span><span class="n">profile_desc</span><span class="p">].</span><span class="nf">append</span><span class="p">(</span><span class="n">location</span><span class="p">)</span>

</code></pre></div></div> <p>Now that we have our strings, we simply put them in our babel catalog with their location of occurrences and return it.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">catalog</span> <span class="o">=</span> <span class="nc">Catalog</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="n">project_name</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">translatable_string</span><span class="p">,</span> <span class="n">locations</span> <span class="ow">in</span> <span class="n">translation_dict</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="n">catalog</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="n">translatable_string</span><span class="p">,</span> <span class="n">locations</span><span class="o">=</span><span class="n">locations</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">catalog</span>
</code></pre></div></div> <h2 id="task-2">Task 2</h2> <blockquote> <p>Retrieve the finished translations and use the libmodulemd API to turn them into modulemd-translations documents.</p> </blockquote> <p><img src="../assets/img/phase2.png" alt="Phase 2"></p> <p>After Zanata translates our strings, they provide us with a <code class="language-plaintext highlighter-rouge">.po</code> file corresponding to one language. This file is turned back into a <code class="language-plaintext highlighter-rouge">babel catalog</code> so that we can parse the translations and put them into our original <code class="language-plaintext highlighter-rouge">ModulemdIndex</code> object. This file contains headers like this:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"Project-Id-Version: fedora-modularity-translations VERSION\n"
"POT-Creation-Date: 2018-10-16 18:39+0000\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Last-Translator: Geert Warrink &lt;geert.warrink@onsnet.nu&gt;\n"
"Language-Team: Dutch\n"
"Language: nl\n"
"X-Generator: Zanata 4.6.2\n"
</code></pre></div></div> <p>Th input is a list of such <code class="language-plaintext highlighter-rouge">catalogs</code> and our original <code class="language-plaintext highlighter-rouge">ModulemdIndex</code>. We change this <code class="language-plaintext highlighter-rouge">ModulemdIndex</code> object inplace and later this change is reflected into the corresponding <code class="language-plaintext highlighter-rouge">YAML</code> file.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">get_modulemd_translations_from_catalog</span><span class="p">(</span><span class="n">catalogs</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
    <span class="bp">...</span>
    <span class="k">return</span> <span class="bp">None</span>
</code></pre></div></div> <p>Creating <code class="language-plaintext highlighter-rouge">ModulemdTranslation</code> objects to be later stored in our <code class="language-plaintext highlighter-rouge">index</code>:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	<span class="c1"># Dictionary `data` contains information from catalog like:
</span>	<span class="c1"># Key: (module_name, stream_name)
</span>	<span class="c1"># Value: TranslationEntry object of a locale
</span>	<span class="n">data</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">()</span>

	<span class="k">for</span> <span class="n">msg</span> <span class="ow">in</span> <span class="n">catalog</span><span class="p">:</span>
		<span class="k">for</span> <span class="n">location</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">msg</span><span class="p">.</span><span class="n">locations</span><span class="p">:</span>
			<span class="p">(</span><span class="n">module_name</span><span class="p">,</span> <span class="n">stream_name</span><span class="p">,</span> <span class="n">string_type</span><span class="p">,</span>
				<span class="n">profile_name</span><span class="p">)</span> <span class="o">=</span> <span class="nf">split_location</span><span class="p">(</span><span class="n">location</span><span class="p">)</span>

			<span class="k">try</span><span class="p">:</span>
				<span class="n">entry</span> <span class="o">=</span> <span class="n">data</span><span class="p">[(</span><span class="n">module_name</span><span class="p">,</span> <span class="n">stream_name</span><span class="p">)]</span>
			<span class="k">except</span> <span class="nb">KeyError</span><span class="p">:</span>
				<span class="n">entry</span> <span class="o">=</span> <span class="n">Modulemd</span><span class="p">.</span><span class="n">TranslationEntry</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span>
					<span class="nf">str</span><span class="p">(</span><span class="n">catalog</span><span class="p">.</span><span class="n">locale</span><span class="p">))</span>

			<span class="k">if</span> <span class="n">string_type</span> <span class="o">==</span> <span class="sh">"</span><span class="s">summary</span><span class="sh">"</span><span class="p">:</span>
				<span class="n">entry</span><span class="p">.</span><span class="nf">set_summary</span><span class="p">(</span><span class="n">msg</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
			<span class="k">elif</span> <span class="n">string_type</span> <span class="o">==</span> <span class="sh">"</span><span class="s">description</span><span class="sh">"</span><span class="p">:</span>
				<span class="n">entry</span><span class="p">.</span><span class="nf">set_description</span><span class="p">(</span><span class="n">msg</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">entry</span><span class="p">.</span><span class="nf">set_profile_description</span><span class="p">(</span><span class="n">profile_name</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>

			<span class="n">data</span><span class="p">[(</span><span class="n">module_name</span><span class="p">,</span> <span class="n">stream_name</span><span class="p">)]</span> <span class="o">=</span> <span class="n">entry</span>
</code></pre></div></div> <p>And now store them in our <code class="language-plaintext highlighter-rouge">index</code>:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">for </span><span class="p">(</span><span class="n">module_name</span><span class="p">,</span> <span class="n">stream_name</span><span class="p">),</span> <span class="n">mmd_translation</span> <span class="ow">in</span> <span class="n">translations</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
	<span class="k">try</span><span class="p">:</span>
		<span class="n">ret</span> <span class="o">=</span> <span class="n">index</span><span class="p">.</span><span class="nf">add_translation</span><span class="p">(</span><span class="n">mmd_translation</span><span class="p">)</span>
	<span class="k">except</span> <span class="n">GLib</span><span class="p">.</span><span class="n">Error</span><span class="p">:</span>
		<span class="nf">print</span><span class="p">(</span>
			<span class="sh">"</span><span class="s">The translation for this %s:%s could not be added</span><span class="sh">"</span><span class="p">,</span>
			<span class="n">module_name</span><span class="p">,</span>
			<span class="n">stream_name</span><span class="p">)</span>

</code></pre></div></div> <h3 id="pr-merged-2-months-2-tasks-completed-we-were-right-on-time-till-now">PR merged! 2 months, 2 tasks completed, we were right on time till now!</h3> <h2 id="task-3">Task 3</h2> <blockquote> <p>Include the code from Phase 2 into Fedora’s repo creation automation so that it gets updated automatically every day.</p> </blockquote> <p><img src="../assets/img/phase3.png" alt="Phase 3"></p> <p>Till now everything were just functions being called on static files. Now we would pull actual <code class="language-plaintext highlighter-rouge">YAMLs</code> from fedora’s repo creation tool, <code class="language-plaintext highlighter-rouge">Koji</code>, and then apply the process to obtain translations. I have created a CLI Tool so that individual release translations can be manually added to their respective <code class="language-plaintext highlighter-rouge">modulemd YAML</code> metadata. But to include these translations into the main release is still a work-in-progress.</p> <p>As of now, I’m a maintainer for the Modulemd Translation Helpers repository for Fedora. You can check it out <a href="https://github.com/fedora-modularity/ModulemdTranslationHelpers#modulemdtranslationhelpers" rel="external nofollow noopener" target="_blank">here</a>.</p> <h2 id="wrapping-up">Wrapping up</h2> <p>I still have a long way to go, but my learning curve is only getting better. I will write thorough documentation for all of my work after the completion of my project. I also presented my Outreachy project at the annual Fedora developer conference, <a href="https://flocktofedora.org/" rel="external nofollow noopener" target="_blank">Flock to Fedora</a> in 2019 at Budapest, Hungary. You can access the slides used for the presentation <a href="https://docs.google.com/presentation/d/1-f8p3xIJwZBc73KphAZncSC4Ykz9Zpy4eKr76_qBNts/edit?ts=5d417262#slide=id.g5ee093febd_0_32" rel="external nofollow noopener" target="_blank">here</a>.</p> <p>Hence proved, Outreachy is truly a rewarding experience! I hope you’d like to immerse yourself into this wonderful weather @ Fedora where the sun is about to shine soon 🌦️.</p> <p><em>Fin.</em></p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2019/outreachy-week-3/">Let's hunt those Memory Leaks!</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2019/outreachy-week-5/">Language is a bridge, not a barrier</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2017/my-milky-way/">My Milky Way</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2019/outreachy-week-13/">IT'S A WRAP!</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2019/gojek/">Small risks, BIG impact: Go-Squad!</a> </li> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Niharika Shrivastava. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?07b8786bab9b4abe90d10e61f7d12ff7" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>